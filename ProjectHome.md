An ActionScript 3 MVC framework based on states